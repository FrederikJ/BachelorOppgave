
@{
    ViewBag.Title = "Importer Sertifikat";
}

<h2>Importer Sertifikat</h2>
<br />
<div class="col-lg-offset-3">
    <div class="btn-group" role="group">
        <button type="button" class="btn btn-default" id="1" onclick="Oversikt()">Oversikt</button>
        <button type="button" class="btn btn-default" id="2" onclick="Register()">Registrer ny enhet</button>
        <button type="button" class="btn btn-default" id="3" onclick="">Logg</button>
        <button type="button" class="btn btn-default" id="4" onclick="">Sertifikat</button>
        <button type="button" class="btn btn-default" id="5" onclick="">Kassert</button>
    </div>
</div>
<br />
@using (Html.BeginForm("Import", "Kalibrering", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    <input type="file" class="btn btn-default" id="uploadedFile" />
    <input type="button" value="Vis fil" onclick="ShowFile()" class="btn btn-default" />
    <br />
    
    <object type="application/pdf" width="860" height="1070" id="fileView" hidden="hidden"></object>
    <br />
    <div class="btn-group">
        <input type="button" value="Endre" hidden="hidden" id="edit" class="btn btn-default" />
        <input type="submit" value="Lagre" hidden="hidden" id="save" class="btn btn-default" />
    </div>
}
<script type="text/javascript">

    function ShowFile() {
        var getFile = document.getElementById("uploadedFile");
        var files = getFile.files[0].name;
        var url = "/Kalibrering/DisplayFile/" + files;
        //HER --> i url får jeg ikke sendt over filen (files) med url til /Kalibrering/DisplayFIle.
        fileView.data = "@Url.Action("DisplayFile")";
        //fileView.data = open(url);
        save.hidden = false;
        edit.hidden = false;
        fileView.hidden = false;
    }

    function Register() {
        window.location.replace("/Kalibrering/Create");
    };

    function Oversikt() {
        window.location.replace("/Kalibrering/Overview");
    };
</script>
